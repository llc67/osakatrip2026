<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026å¤§é˜ª Â· å¾‹ç¶º</title>
    <style>
        :root { --primary: #e67e22; --bg: #fdfaf6; --text: #2c3e50; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 15px; color: var(--text); padding-bottom: 50px; }
        h1 { text-align: center; color: #d35400; font-size: 1.4rem; margin-bottom: 20px; }
        .day-card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-left: 6px solid var(--primary); }
        .day-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .day-title { font-weight: bold; color: var(--primary); font-size: 1.1rem; }
        .day-desc { font-size: 0.85rem; color: #7f8c8d; margin-top: 2px; }
        .add-btn { background: var(--primary); color: white; border: none; border-radius: 50%; width: 28px; height: 28px; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .nav-list { display: grid; gap: 8px; }
        .nav-item { display: flex; align-items: center; gap: 8px; }
        .nav-link { flex: 1; background: #fff; border: 1px solid #eee; text-decoration: none; color: #34495e; padding: 12px; border-radius: 10px; text-align: center; font-size: 0.9rem; font-weight: 500; }
        .del-btn { color: #e74c3c; border: none; background: none; font-size: 1.2rem; padding: 5px; }
        .todo-section { background: white; border-radius: 15px; padding: 15px; margin-top: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .input-group { display: flex; gap: 8px; margin-bottom: 15px; }
        input[type="text"] { flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 10px; font-size: 1rem; outline: none; }
        .main-btn { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; }
        .todo-item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid #f9f9f9; }
        .todo-item input { width: 20px; height: 20px; margin-right: 12px; accent-color: var(--primary); }
        .todo-item.completed span { text-decoration: line-through; color: #bdc3c7; }
    </style>
</head>
<body>
<h1>ğŸ‡¯ğŸ‡µ 2026 å¤§é˜ªæ—…éŠæ‰‹å†Š</h1>
<div id="itinerary"></div>
<div class="todo-section">
    <div class="day-title" style="margin-bottom:12px">ğŸ“‹ è³¼ç‰©èˆ‡ç¾é£Ÿå¾…è¾¦</div>
    <div class="input-group">
        <input type="text" id="todo-input" placeholder="æ–°å¢é …ç›® (å¦‚ï¼šè²·è­·è‰²æ´—é«®ç²¾)">
        <button class="main-btn" onclick="addTodo()">æ–°å¢</button>
    </div>
    <div id="todo-list"></div>
</div>
<script>
    const defaultData = [
        { d: "2/20 (äº”)", t: "æŠµé”ã€æ¢…ç”°é£¯åº—ã€å¿ƒé½‹æ©‹", l: ["æ¢…ç”°ç«™", "å¿ƒé½‹æ©‹"] },
        { d: "2/21 (å…­)", t: "INTEX é ˜ç‰©è³‡", l: ["INTEX Osaka", "ã—ã‚“ã±ã¡é£Ÿå ‚"] },
        { d: "2/22 (æ—¥)", t: "é¦¬æ‹‰æ¾æ‡‰æ´ (çˆ¸åª½æœƒåˆ)", l: ["éº¥Ã—é›æ‹‰éºµ", "å—ä¸€åœ’ç‡’è‚‰"] },
        { d: "2/23 (ä¸€)", t: "å¤©æ©‹ç«‹ä¸€æ—¥éŠ (è‡ªåŠ©)", l: ["å¤©æ©‹ç«‹è»Šç«™", "Dorajyu"] },
        { d: "2/24 (äºŒ)", t: "æœ¨æ´¥å¸‚å ´ã€å…«é˜ªç¥ç¤¾", l: ["æœ¨æ´¥å¸‚å ´", "é›£æ³¢å…«é˜ªç¥ç¤¾", "å‹å°¾å¯º (å‚™æ¡ˆ)"] }
    ];
    let itin = JSON.parse(localStorage.getItem('osaka_itin')) || defaultData;
    let todos = JSON.parse(localStorage.getItem('osaka_todos')) || [];
    function render() {
        localStorage.setItem('osaka_itin', JSON.stringify(itin));
        localStorage.setItem('osaka_todos', JSON.stringify(todos));
        document.getElementById('itinerary').innerHTML = itin.map((item, dIdx) => `
            <div class="day-card">
                <div class="day-header">
                    <div><div class="day-title">${item.d}</div><div class="day-desc">${item.t}</div></div>
                    <button class="add-btn" onclick="addLoc(${dIdx})">+</button>
                </div>
                <div class="nav-list">${item.l.map((loc, lIdx) => `
                    <div class="nav-item">
                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(loc)}" target="_blank" class="nav-link">ğŸ“ ${loc}</a>
                        <button class="del-btn" onclick="delLoc(${dIdx},${lIdx})">Ã—</button>
                    </div>`).join('')}
                </div>
            </div>`).join('');
        document.getElementById('todo-list').innerHTML = todos.map((t, i) => `
            <div class="todo-item ${t.c ? 'completed' : ''}">
                <input type="checkbox" ${t.c ? 'checked' : ''} onclick="toggleTodo(${i})">
                <span style="flex:1">${t.txt}</span>
                <button class="del-btn" onclick="delTodo(${i})">Ã—</button>
            </div>`).join('');
    }
    window.addLoc = (i) => { const n = prompt("è¼¸å…¥æ–°åœ°é»ï¼š"); if(n) { itin[i].l.push(n); render(); } };
    window.delLoc = (di, li) => { if(confirm("åˆªé™¤æ­¤åœ°é»ï¼Ÿ")) { itin[di].l.splice(li,1); render(); } };
    window.addTodo = () => { const i = document.getElementById('todo-input'); if(i.value) { todos.push({txt: i.value, c: false}); i.value=''; render(); } };
    window.toggleTodo = (i) => { todos[i].c = !todos[i].c; render(); };
    window.delTodo = (i) => { todos.splice(i,1); render(); };
    render();
</script>
</body>
</html>
